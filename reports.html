<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports & Analytics - AyurTrace</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="bg-override.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">üåø AyurTrace</div>
            <div class="nav-menu">
                <a href="index.html">Home</a>
                <a href="login.html">Login</a>
                <a href="#about">About</a>
            </div>
        </div>
    </nav>

    <main class="dashboard">
        <div class="container">
            <div class="dashboard-header">
                <h1>Reports & Analytics</h1>
                <p>Comprehensive insights into Ayurvedic herb supply chain performance</p>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>üìä Supply Chain Analytics</h3>
                    <div class="analytics-summary">
                        <div class="summary-item">
                            <div class="summary-number">2,847</div>
                            <div class="summary-label">Total Batches Tracked</div>
                            <div class="summary-change positive">+12.5% this month</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-number">94.2%</div>
                            <div class="summary-label">Quality Pass Rate</div>
                            <div class="summary-change positive">+2.1% this month</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-number">156</div>
                            <div class="summary-label">Active Farmers</div>
                            <div class="summary-change positive">+8 this month</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-number">23</div>
                            <div class="summary-label">Processing Units</div>
                            <div class="summary-change neutral">No change</div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <h4>Monthly Batch Processing Trend</h4>
                        <div class="chart-placeholder">
                            <div class="chart-bars">
                                <div class="bar" style="height: 60%"><span>Jan</span></div>
                                <div class="bar" style="height: 75%"><span>Feb</span></div>
                                <div class="bar" style="height: 85%"><span>Mar</span></div>
                                <div class="bar" style="height: 70%"><span>Apr</span></div>
                                <div class="bar" style="height: 90%"><span>May</span></div>
                                <div class="bar" style="height: 95%"><span>Jun</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>üå± Sustainability Metrics</h3>
                    <div class="sustainability-grid">
                        <div class="sustainability-item">
                            <div class="sustainability-icon">üíß</div>
                            <div class="sustainability-content">
                                <h4>Water Conservation</h4>
                                <div class="metric-value">2.3M Liters</div>
                                <div class="metric-description">Saved through efficient irrigation</div>
                            </div>
                        </div>

                        <div class="sustainability-item">
                            <div class="sustainability-icon">üåç</div>
                            <div class="sustainability-content">
                                <h4>Carbon Footprint</h4>
                                <div class="metric-value">-15%</div>
                                <div class="metric-description">Reduction from last year</div>
                            </div>
                        </div>

                        <div class="sustainability-item">
                            <div class="sustainability-icon">üåæ</div>
                            <div class="sustainability-content">
                                <h4>Organic Farming</h4>
                                <div class="metric-value">87%</div>
                                <div class="metric-description">Of farms are certified organic</div>
                            </div>
                        </div>

                        <div class="sustainability-item">
                            <div class="sustainability-icon">ü§ù</div>
                            <div class="sustainability-content">
                                <h4>Fair Trade</h4>
                                <div class="metric-value">‚Çπ2.1M</div>
                                <div class="metric-description">Premium paid to farmers</div>
                            </div>
                        </div>
                    </div>

                    <div class="environmental-impact">
                        <h4>Environmental Impact Score</h4>
                        <div class="impact-score">
                            <div class="score-circle">
                                <div class="score-value">8.7</div>
                                <div class="score-max">/10</div>
                            </div>
                            <div class="score-breakdown">
                                <div class="score-item">
                                    <span>Biodiversity</span>
                                    <div class="score-bar">
                                        <div class="score-fill" style="width: 90%"></div>
                                    </div>
                                    <span>9.0</span>
                                </div>
                                <div class="score-item">
                                    <span>Soil Health</span>
                                    <div class="score-bar">
                                        <div class="score-fill" style="width: 85%"></div>
                                    </div>
                                    <span>8.5</span>
                                </div>
                                <div class="score-item">
                                    <span>Water Usage</span>
                                    <div class="score-bar">
                                        <div class="score-fill" style="width: 88%"></div>
                                    </div>
                                    <span>8.8</span>
                                </div>
                                <div class="score-item">
                                    <span>Energy Efficiency</span>
                                    <div class="score-bar">
                                        <div class="score-fill" style="width: 82%"></div>
                                    </div>
                                    <span>8.2</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>üìã Compliance Reports</h3>
                    <div class="report-generator">
                        <div class="form-group">
                            <label for="complianceType">Compliance Type</label>
                            <select id="complianceType">
                                <option value="fda">FDA Compliance</option>
                                <option value="organic">Organic Certification</option>
                                <option value="fair-trade">Fair Trade Compliance</option>
                                <option value="gmp">GMP Standards</option>
                                <option value="iso">ISO Standards</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="reportPeriod">Report Period</label>
                            <select id="reportPeriod">
                                <option value="monthly">Monthly</option>
                                <option value="quarterly">Quarterly</option>
                                <option value="annual">Annual</option>
                                <option value="custom">Custom Range</option>
                            </select>
                        </div>

                        <button class="btn-primary" onclick="generateComplianceReport()">Generate Report</button>
                    </div>

                    <div class="recent-reports">
                        <h4>Recent Compliance Reports</h4>
                        <div class="report-item">
                            <div class="report-header">
                                <strong>FDA Compliance Report - Q1 2024</strong>
                                <span class="report-status compliant">‚úÖ Compliant</span>
                            </div>
                            <p>Generated: March 31, 2024</p>
                            <p>Coverage: 2,847 batches across 156 farms</p>
                            <div class="report-actions">
                                <button class="btn-secondary" onclick="downloadReport('FDA-Q1-2024')">Download PDF</button>
                                <button class="btn-secondary" onclick="viewReport('FDA-Q1-2024')">View Online</button>
                            </div>
                        </div>

                        <div class="report-item">
                            <div class="report-header">
                                <strong>Organic Certification Report - March 2024</strong>
                                <span class="report-status warning">‚ö†Ô∏è Action Required</span>
                            </div>
                            <p>Generated: March 28, 2024</p>
                            <p>Issues: 3 farms pending re-certification</p>
                            <div class="report-actions">
                                <button class="btn-secondary" onclick="downloadReport('ORG-MAR-2024')">Download PDF</button>
                                <button class="btn-primary" onclick="viewIssues('ORG-MAR-2024')">View Issues</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>üîç Quality Analytics</h3>
                    <div class="quality-overview">
                        <div class="quality-metric">
                            <h4>Test Pass Rates</h4>
                            <div class="test-results">
                                <div class="test-item">
                                    <span>Moisture Content</span>
                                    <div class="test-bar">
                                        <div class="test-fill pass" style="width: 96%"></div>
                                    </div>
                                    <span>96%</span>
                                </div>
                                <div class="test-item">
                                    <span>Pesticide Residue</span>
                                    <div class="test-bar">
                                        <div class="test-fill pass" style="width: 98%"></div>
                                    </div>
                                    <span>98%</span>
                                </div>
                                <div class="test-item">
                                    <span>Heavy Metals</span>
                                    <div class="test-bar">
                                        <div class="test-fill warning" style="width: 89%"></div>
                                    </div>
                                    <span>89%</span>
                                </div>
                                <div class="test-item">
                                    <span>DNA Authentication</span>
                                    <div class="test-bar">
                                        <div class="test-fill pass" style="width: 99%"></div>
                                    </div>
                                    <span>99%</span>
                                </div>
                                <div class="test-item">
                                    <span>Microbial Count</span>
                                    <div class="test-bar">
                                        <div class="test-fill pass" style="width: 94%"></div>
                                    </div>
                                    <span>94%</span>
                                </div>
                            </div>
                        </div>

                        <div class="quality-trends">
                            <h4>Quality Trends (Last 6 Months)</h4>
                            <div class="trend-chart">
                                <div class="trend-line">
                                    <div class="trend-point" style="left: 0%; bottom: 85%"></div>
                                    <div class="trend-point" style="left: 20%; bottom: 88%"></div>
                                    <div class="trend-point" style="left: 40%; bottom: 92%"></div>
                                    <div class="trend-point" style="left: 60%; bottom: 89%"></div>
                                    <div class="trend-point" style="left: 80%; bottom: 94%"></div>
                                    <div class="trend-point" style="left: 100%; bottom: 96%"></div>
                                </div>
                                <div class="trend-labels">
                                    <span>Jan</span>
                                    <span>Feb</span>
                                    <span>Mar</span>
                                    <span>Apr</span>
                                    <span>May</span>
                                    <span>Jun</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>üåç Geographic Distribution</h3>
                    <div class="geographic-stats">
                        <div class="region-stats">
                            <h4>Production by Region</h4>
                            <div class="region-item">
                                <span class="region-name">Rajasthan</span>
                                <div class="region-bar">
                                    <div class="region-fill" style="width: 35%"></div>
                                </div>
                                <span class="region-percent">35%</span>
                            </div>
                            <div class="region-item">
                                <span class="region-name">Kerala</span>
                                <div class="region-bar">
                                    <div class="region-fill" style="width: 28%"></div>
                                </div>
                                <span class="region-percent">28%</span>
                            </div>
                            <div class="region-item">
                                <span class="region-name">Karnataka</span>
                                <div class="region-bar">
                                    <div class="region-fill" style="width: 22%"></div>
                                </div>
                                <span class="region-percent">22%</span>
                            </div>
                            <div class="region-item">
                                <span class="region-name">Tamil Nadu</span>
                                <div class="region-bar">
                                    <div class="region-fill" style="width: 15%"></div>
                                </div>
                                <span class="region-percent">15%</span>
                            </div>
                        </div>

                        <div class="herb-distribution">
                            <h4>Top Herbs by Volume</h4>
                            <div class="herb-list">
                                <div class="herb-item">
                                    <span class="herb-name">üåø Turmeric</span>
                                    <span class="herb-volume">1,245 kg</span>
                                </div>
                                <div class="herb-item">
                                    <span class="herb-name">üåø Ashwagandha</span>
                                    <span class="herb-volume">987 kg</span>
                                </div>
                                <div class="herb-item">
                                    <span class="herb-name">üåø Neem</span>
                                    <span class="herb-volume">756 kg</span>
                                </div>
                                <div class="herb-item">
                                    <span class="herb-name">üåø Brahmi</span>
                                    <span class="herb-volume">623 kg</span>
                                </div>
                                <div class="herb-item">
                                    <span class="herb-name">üåø Tulsi</span>
                                    <span class="herb-volume">445 kg</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>üì§ Export Reports</h3>
                    <div class="export-options">
                        <div class="export-item">
                            <h4>üìä Analytics Dashboard</h4>
                            <p>Complete analytics with charts and metrics</p>
                            <div class="export-actions">
                                <button class="btn-secondary" onclick="exportReport('analytics', 'pdf')">Export PDF</button>
                                <button class="btn-secondary" onclick="exportReport('analytics', 'excel')">Export Excel</button>
                            </div>
                        </div>

                        <div class="export-item">
                            <h4>üå± Sustainability Report</h4>
                            <p>Environmental impact and sustainability metrics</p>
                            <div class="export-actions">
                                <button class="btn-secondary" onclick="exportReport('sustainability', 'pdf')">Export PDF</button>
                                <button class="btn-secondary" onclick="exportReport('sustainability', 'excel')">Export Excel</button>
                            </div>
                        </div>

                        <div class="export-item">
                            <h4>üìã Compliance Summary</h4>
                            <p>Regulatory compliance status and certifications</p>
                            <div class="export-actions">
                                <button class="btn-secondary" onclick="exportReport('compliance', 'pdf')">Export PDF</button>
                                <button class="btn-secondary" onclick="exportReport('compliance', 'excel')">Export Excel</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        function generateComplianceReport() {
            const type = document.getElementById('complianceType').value;
            const period = document.getElementById('reportPeriod').value;
            
            console.log('Generating compliance report:', { type, period });
            alert(`Generating ${type} compliance report for ${period} period...`);
        }

        function downloadReport(reportId) {
            console.log('Downloading report:', reportId);
            alert(`Downloading report: ${reportId}`);
        }

        function viewReport(reportId) {
            console.log('Viewing report:', reportId);
            alert(`Opening report: ${reportId}`);
        }

        function viewIssues(reportId) {
            console.log('Viewing issues for report:', reportId);
            alert(`Viewing issues for report: ${reportId}`);
        }

        function exportReport(type, format) {
            console.log('Exporting report:', { type, format });
            alert(`Exporting ${type} report as ${format.toUpperCase()}...`);
        }

        // Auto-refresh data every 5 minutes
        setInterval(() => {
            console.log('Auto-refreshing analytics data...');
        }, 300000);
    </script>

    <style>
        .analytics-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .summary-item {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
        }

        .summary-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #4CAF50;
            margin-bottom: 0.5rem;
        }

        .summary-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.5rem;
        }

        .summary-change {
            font-size: 0.8rem;
            font-weight: bold;
        }

        .summary-change.positive {
            color: #28a745;
        }

        .summary-change.negative {
            color: #dc3545;
        }

        .summary-change.neutral {
            color: #6c757d;
        }

        .chart-container {
            margin-top: 2rem;
        }

        .chart-placeholder {
            height: 200px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1rem;
            display: flex;
            align-items: end;
            justify-content: center;
        }

        .chart-bars {
            display: flex;
            gap: 1rem;
            align-items: end;
            height: 100%;
        }

        .bar {
            width: 40px;
            background: #4CAF50;
            border-radius: 4px 4px 0 0;
            display: flex;
            align-items: end;
            justify-content: center;
            color: white;
            font-weight: bold;
            position: relative;
        }

        .bar span {
            position: absolute;
            bottom: -25px;
            color: #666;
            font-size: 0.8rem;
        }

        .sustainability-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .sustainability-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 10px;
        }

        .sustainability-icon {
            font-size: 2rem;
        }

        .sustainability-content h4 {
            margin-bottom: 0.5rem;
            color: #333;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #4CAF50;
        }

        .metric-description {
            font-size: 0.9rem;
            color: #666;
        }

        .environmental-impact {
            margin-top: 2rem;
        }

        .impact-score {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: conic-gradient(#4CAF50 0deg 313deg, #e9ecef 313deg 360deg);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            position: relative;
        }

        .score-circle::before {
            content: '';
            position: absolute;
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 50%;
        }

        .score-value {
            font-size: 2rem;
            font-weight: bold;
            color: #4CAF50;
            z-index: 1;
        }

        .score-max {
            font-size: 1rem;
            color: #666;
            z-index: 1;
        }

        .score-breakdown {
            flex: 1;
        }

        .score-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .score-item span:first-child {
            min-width: 100px;
            font-size: 0.9rem;
        }

        .score-bar {
            flex: 1;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
        }

        .score-fill {
            height: 100%;
            background: #4CAF50;
            border-radius: 4px;
        }

        .score-item span:last-child {
            min-width: 30px;
            text-align: right;
            font-weight: bold;
            color: #4CAF50;
        }

        .report-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .report-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .report-status.compliant {
            background: #d4edda;
            color: #155724;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .report-status.warning {
            background: #fff3cd;
            color: #856404;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .report-actions {
            margin-top: 1rem;
            display: flex;
            gap: 0.5rem;
        }

        .test-results {
            margin-bottom: 2rem;
        }

        .test-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .test-item span:first-child {
            min-width: 120px;
            font-size: 0.9rem;
        }

        .test-bar {
            flex: 1;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
        }

        .test-fill.pass {
            background: #28a745;
        }

        .test-fill.warning {
            background: #ffc107;
        }

        .test-fill.fail {
            background: #dc3545;
        }

        .trend-chart {
            position: relative;
            height: 150px;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
        }

        .trend-line {
            position: relative;
            height: 100px;
        }

        .trend-point {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #4CAF50;
            border-radius: 50%;
            transform: translate(-50%, 50%);
        }

        .trend-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
            font-size: 0.8rem;
            color: #666;
        }

        .region-stats, .herb-distribution {
            flex: 1;
        }

        .geographic-stats {
            display: flex;
            gap: 2rem;
        }

        .region-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .region-name {
            min-width: 80px;
            font-size: 0.9rem;
        }

        .region-bar {
            flex: 1;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
        }

        .region-fill {
            height: 100%;
            background: #4CAF50;
            border-radius: 4px;
        }

        .region-percent {
            min-width: 40px;
            text-align: right;
            font-weight: bold;
            color: #4CAF50;
        }

        .herb-list {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
        }

        .herb-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid #e9ecef;
        }

        .herb-item:last-child {
            border-bottom: none;
        }

        .herb-volume {
            font-weight: bold;
            color: #4CAF50;
        }

        .export-options {
            display: grid;
            gap: 1rem;
        }

        .export-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
        }

        .export-item h4 {
            margin-bottom: 0.5rem;
        }

        .export-item p {
            color: #666;
            margin-bottom: 1rem;
        }

        .export-actions {
            display: flex;
            gap: 0.5rem;
        }

        @media (max-width: 768px) {
            .analytics-summary {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .sustainability-grid {
                grid-template-columns: 1fr;
            }
            
            .geographic-stats {
                flex-direction: column;
            }
            
            .impact-score {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
    <script src="db-config.js"></script>
</body>
</html>